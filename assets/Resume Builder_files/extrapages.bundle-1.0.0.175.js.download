(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1085:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return k}));var n=o(0),r=o.n(n),a=o(93),i=o(1),s=o(10);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=f(e);if(t){var r=f(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return p(this,o)}}function p(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(p,e);var t,o,n,l=m(p);function p(e,t){var o,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),o=l.call(this,e,t),n=d(o),a=function(){window.location=s.c[i.O.index]},(r=v(r="onClick"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,o}return t=p,(o=[{key:"render",value:function(){return r.a.createElement("div",{className:"oops-panel-wrapper"},r.a.createElement("div",{className:"oops-header"},r.a.createElement(a.a,{hideHamburgerIcon:!0})),r.a.createElement("div",{className:"oops-panel-container"},r.a.createElement("div",{className:"oops-panel-background"},r.a.createElement("div",{className:"oops-panel-background-text"},"404")),r.a.createElement("div",{className:"oops-panel-text-section"},r.a.createElement("div",{className:"oops-panel-title"},"Oops! Page not found..."),r.a.createElement("div",{className:"oops-panel-subtitle"},"We’re unable to find the page you’re looking for."),r.a.createElement("button",{onClick:this.onClick,className:"button button-primary"},"Go Home"))))}}])&&c(t.prototype,o),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(n.Component)},1086:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return ne}));var n=o(0),r=o.n(n),a=o(1066),i=o.n(a),s=o(93),l=o(8),c=o(727),u=o(215),m=o(63),p=o.n(m),d=o(1),f=o(242),v=o(680),k=o.n(v),b=o(3),y=function(e){return r.a.createElement("div",{className:"modal-body"},r.a.createElement(k.a,Object(b.G)(e,e.state.formatSelection)))},D=function(e){return r.a.createElement("div",{className:"modal-body"},r.a.createElement("span",{className:"modal-title"},BLDR.Localization.resumeOptionsPopupHeading),r.a.createElement("div",{className:"emailprintdownload-links"},r.a.createElement("a",{onClick:e.openDownloadFormatPopup,className:"epdlink downloadlink active"},r.a.createElement(l.v,null),BLDR.Localization.downloadText),r.a.createElement("a",{onClick:e.onPrintClick,className:"epdlink printlink"},r.a.createElement(l.bb,null),BLDR.Localization.printText),r.a.createElement("a",{onClick:e.openEmailPopup,className:"epdlink emaillink"},r.a.createElement(l.Q,null),BLDR.Localization.emailText)))},g=o(177),S=o.n(g);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?C(Object(o),!0).forEach((function(t){L(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function L(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var R=function(e){return r.a.createElement("div",{className:"email-popup-body"},r.a.createElement(S.a,Object(b.K)(e,w(w({},e.state.emailTo),{},{autoFocus:window.BLDR.featureSets.isFunnelImprovements}))),r.a.createElement(S.a,Object(b.K)(e,e.state.emailFrom)),r.a.createElement(S.a,Object(b.K)(e,e.state.emailSubject)),r.a.createElement("div",{className:"email-popup-body-body form-lg form-fields"},r.a.createElement("span",null,BLDR.Localization.emailBodyLabetText),r.a.createElement("textarea",{name:"emailBody",className:"email-body form-lg form-fields",onChange:e.txtOnChange,value:e.state.emailBody,placeholder:BLDR.Localization.emailBodyPlaceholder})))},E=function(e){return r.a.createElement("div",{className:"email-success-popup-body"},r.a.createElement("div",{className:"check-div"},r.a.createElement(l.R,null),"  "),r.a.createElement("div",{className:"email-popup-success-title title"},r.a.createElement("h2",null,BLDR.Localization.emailSentText)),r.a.createElement("p",{className:"success-text"},r.a.createElement("span",null,BLDR.Localization.emailSuccessMessageText)),r.a.createElement("button",{className:"close-btn",onClick:e.closeEmailSentPopup},BLDR.Localization.closeText))};function P(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function O(e){var t=BLDR.UserClaims&&"Guest"!=BLDR.UserClaims.role,o=e.displayDesktopView?F:_,n=e.displayDesktopView?[{breakpoint:1200,settings:{slidesToShow:1}}]:[{breakpoint:768,settings:{arrows:!1}}],a={centerMode:!0,centerPadding:e.displayDesktopView?"90px":"30px",dots:!1,slidesToScroll:1,arrows:!0,infinite:!1,slidesToShow:e.displayDesktopView?3:1,focusOnSelect:!0,swipeToSlide:!0,variableWidth:!e.displayDesktopView,nextArrow:r.a.createElement(c.a,null),prevArrow:r.a.createElement(c.b,null),responsive:n,beforeChange:function(t,o){e.beforeChange(t,o)}};return r.a.createElement("div",{className:"builder-end-panel-panel"},r.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-end-panel-header")},r.a.createElement(s.a,{toggleNav:e.toggleSidenav,hideHamburgerIcon:!0,hideLoginIcon:!t,showColorFormattingOptions:!0,selectedColor:e.skinColor,formattingOptionSelected:e.formattingOptionSelected,onColorClick:e.onSkinColorClick,onFormattingOptionClick:e.onFormattingOptionClick,onDownloadClick:e.openDownloadFormatPopup,onEmailClick:e.openEmailPopup,onPrintClick:e.onPrintClick,isFinalizePage:!0})),r.a.createElement(u.a,N({},e,{isFinalize:!0,showAsModal:!0,toggleNav:e.toggleSidenav,toggleClass:e.state.showNav?"open":"closed",renderModalItemProps:e,showToolTip:!BLDR.IsMobileDevice()&&e.state.showEditMyResumeToolTip,renderToolTipHtml:U,onToolTipClose:e.onEditMyResumeToolTipClose,renderModalItem:BLDR.IsMobileDevice()||BLDR.isIPAD()||!e.state.showNav?void 0:B})),r.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-slider-panel")},!e.displayDesktopView&&r.a.createElement("h1",{className:"finalize-page-title"},BLDR.Localization.finalizeHeadingText),r.a.createElement("div",{className:"builder-slider"},r.a.createElement("div",{className:"template-selector-fade-out"}),r.a.createElement(i.a,N({ref:function(t){return e.assignRef("slider",t)}},a,{className:"finalize-slick"}),e.state.skins&&e.state.skins.length>0&&o(e)))),e.state.showPopup&&r.a.createElement(p.a,N({isOpen:!0},e.getPopupProps(e.state.popupName,e)),function(e,t){var o=null;switch(e){case d.Y.resumePreview:o=B(t,!0);break;case d.Y.downloadFormat:o=r.a.createElement(y,t);break;case d.Y.mobileResumeOptions:o=r.a.createElement(D,t);break;case d.Y.email:o=r.a.createElement(R,t);break;case d.Y.emailSent:o=r.a.createElement(E,t)}return o}(e.state.popupName,e)),r.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-end-footer")},r.a.createElement("button",{className:"button button-default",onClick:e.toggleSidenav},r.a.createElement(l.y,{colorClass:"icon"}),"Edit ",r.a.createElement("span",{className:"d-none-sm"},"  ",BLDR.Localization.resume_Text)),r.a.createElement("button",{className:"button button-primary",onClick:e.onNextClick},r.a.createElement(l.C,null),BLDR.Localization.save_And_Continue_Text)))}function B(e,t){return r.a.createElement(f.a,N({},e,{hideCrossIcon:t,onCrossIconClick:t?null:e.closeResumePreviewPopup}))}function U(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,BLDR.Localization.editMyResumeToolTipHeading),r.a.createElement("p",null,BLDR.Localization.editMyResumeToolTipBody))}function _(e){var t=e.state.skins,o=e.state.selectedSkin;return t.map((function(t,n){return r.a.createElement("div",{className:"skin-wrapper skincd-".concat(t.skinCD),key:n,"data-index":n+1,"data-skinid":t.skinCD,"data-skinname":t.name},r.a.createElement("div",{className:"skin-template"},r.a.createElement("div",{className:"skin-title"},t.name),r.a.createElement("div",{className:"template-label"},r.a.createElement("div",{className:"label-wrapper"},r.a.createElement("span",{className:"label-prefix"},BLDR.Localization.availableText),r.a.createElement("div",{className:"lableType"},BLDR.Localization.resumeFormatText))),r.a.createElement("div",{className:"skin-image-prev",onClick:t.skinCD==o&&t.html?e.openResumePreviewPopup:null},t.skinCD!=o?r.a.createElement(l.pb,null):r.a.createElement(r.a.Fragment,null,t.html&&r.a.createElement("div",{className:"skin-container ".concat(e.state.showLoader?"d-none":""),dangerouslySetInnerHTML:{__html:t.html}}),e.state.showLoader&&r.a.createElement("div",{className:"loading-skin"},r.a.createElement("div",{className:"loading-skin-icon"},r.a.createElement(l.Y,null))))),r.a.createElement("div",{className:"skin-desc"},r.a.createElement("p",null,t.description))))}))}function F(e){var t=P(e.state.skins),o=e.state.selectedSkin;return t.push({}),t.push({}),t.map((function(t,n){return n<=e.state.skins.length-1?r.a.createElement("div",{className:"skin-wrapper skincd-".concat(t.skinCD),key:n,"data-index":n+1,"data-skinid":t.skinCD,"data-skinname":t.name},r.a.createElement("div",{className:"skin-template"},r.a.createElement("div",{className:"skin-title"},t.name),r.a.createElement("div",{className:"template-label"},r.a.createElement("div",{className:"label-wrapper"},r.a.createElement("span",{className:"label-prefix"},BLDR.Localization.availableText),r.a.createElement("div",{className:"lableType"},BLDR.Localization.resumeFormatText))),r.a.createElement("div",{className:"skin-image-prev"},r.a.createElement("div",{className:"skin-ctnr-overlay",onClick:t.skinCD==o&&t.html?e.openResumePreviewPopup:null}),r.a.createElement("span",{className:"icon-zoom"}," ",r.a.createElement(l.sb,null)),r.a.createElement(r.a.Fragment,null,t.html&&r.a.createElement("div",{className:"skin-container ".concat(t.showLoader?"d-none":""),dangerouslySetInnerHTML:{__html:t.html}}),t.showLoader&&r.a.createElement("div",{className:"loading-skin"},r.a.createElement("div",{className:"loading-skin-icon"},r.a.createElement(l.Y,null))))))):r.a.createElement("div",{key:n})}))}var j=o(74),I=o.n(j),M=o(2),x=o(10),G=o(50);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function z(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return W(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function J(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function q(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?J(Object(o),!0).forEach((function(t){ee(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):J(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Y(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,te(n.key),n)}}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Z(e);if(t){var r=Z(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return K(this,o)}}function K(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,o){return(t=te(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function te(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}var oe=o(308),ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(i,e);var t,o,n,a=$(i);function i(e,t){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ee(X(o=a.call(this,e,t)),"assignRef",(function(e,t){null!=t&&(o.refObj[e]=t)})),ee(X(o),"DeletephotoSection",(function(e){var t=q({},e),o=t.sections.find((function(e){return e.sectionTypeCD==M.TypeCodes.sectionTypeCd.Photo}));return o&&(e=M.DocumentHelper.removeSection(t,o.id)),e})),ee(X(o),"setResumePreviewDimension",(function(e,t,n){setTimeout((function(){var r=t||document.querySelector(o.docSelectorQueryString),a=e||document.querySelector(".skin-container"),i=document.querySelector(".cancel-handler .template-preview"),s=0;s="MLO4"==o.state.selectedSkin?50:"MLO5"==o.state.selectedSkin?6:"MLN4"==o.state.selectedSkin?20:0,r&&a&&(o.setState(n?{showPreviewLoader:!1}:{showLoader:!1},(function(){var e=a.offsetWidth/r.offsetWidth;r.style.transform="scale(".concat(e,")"),r.style.transformOrigin="0 0"})),setTimeout((function(){if(i){var e=r.offsetHeight*(a.offsetWidth/r.offsetWidth);i.style.height="".concat(e+s,"px")}}),500))}),300)})),ee(X(o),"getSkinsObject",(function(){var e=[],t=BLDR.Skins;return t&&t.length>0&&t.map((function(t){e.push({skinCD:t.skinCD,html:"",name:t.name,description:t.description,showLoader:!0,imageURL:t.imageURL})})),e})),ee(X(o),"toggleSidenav",(function(e){var t;BLDR.UserClaims&&BLDR.UserClaims.user_uid&&!o.state.showNav&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,"finalize"),ee(t,d.G.Document_Type,"resumes"),ee(t,d.G.Cta_Name,"edit resume"),t),BLDR.UserClaims.user_uid,b.ab());if(o.props.commonActions.SetCommonSetting(d.ob.fromFinalize,!0),o.state.showNav){if(e&&e.target)if(b.T(e.target,"svg-skin"))return;o.showCarouselMode()}else o.showEditMode()})),ee(X(o),"onNextClick",(function(e){var t;(e.preventDefault(),BLDR.UserClaims&&BLDR.UserClaims.user_uid)&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,"finalize"),ee(t,d.G.Document_Type,"resumes"),ee(t,d.G.Cta_Name,"next"),t),BLDR.UserClaims.user_uid,b.ab());var n=window.document.querySelectorAll(".skin-wrapper"),r=Array.from(n).find((function(e){return e.dataset&&e.dataset.skinid===o.state.selectedSkin}));if(r&&r.dataset&&r.dataset.index&&r.dataset.skinid&&r.dataset.skinname){var a={builderType:"resumes",screenName:"finalize",displayPosition:r.dataset.index,templateName:r.dataset.skinname,templateId:r.dataset.skinid,templateColor:o.getTemplateColorForTracking(o.state.selectedColor),templateCategory:"all"};Object(G.c)(a)}if(BLDR.IsMobileDevice())o.openResumeOptionsPopup();else if(BLDR.createCookie("useraction","saveAndNext"),null!=o.state.isPremiumUser&&null!=o.state.isPremiumUser){var i="";"guest"==o.user.Role.toLowerCase()?(i=x.c[d.O.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id),o.props.history.push(i)):(i=o.state.isPremiumUser?BLDR.Paths.BaseUrl:BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id,setTimeout((function(){window.location.href=i}),10))}})),ee(X(o),"beforeChange",(function(e,t){var n=o.state.skins[t].skinCD,r=o.state.skins.findIndex((function(e){return e.skinCD==o.state.selectedSkin})),a=o.getSelectedFormattingOption(),i=!1;o.displayDesktopView||e==t||a===d.ub.default||(i=!0),setTimeout((function(){o.setState({selectedSkin:n}),b.Bb(n,o.state.selectedColor,o.props.document.id),i&&o.setState({skins:I()(o.state.skins,ee({},r,{$merge:{html:""}}))})}),100)})),ee(X(o),"openResumePreviewPopup",(function(e){var t;(e&&e.stopPropagation(),BLDR.UserClaims&&BLDR.UserClaims.user_uid)&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,"finalize"),ee(t,d.G.Document_Type,"resumes"),ee(t,d.G.Cta_Name,"open resume  preview"),t),BLDR.UserClaims.user_uid,b.ab());o.setState({showPopup:!0,popupName:d.Y.resumePreview,showPreviewLoader:!0},(function(){setTimeout((function(){var e=document.querySelector(".svg-skin"),t=document.querySelector(".svg-skin #document, .svg-skin .document")?document.querySelector(".svg-skin #document, .svg-skin .document"):null;o.setResumePreviewDimension(e,t,!0)}),10)}))})),ee(X(o),"closeResumePreviewPopup",(function(){var e;BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(e={},d.G.Activity,"clicked"),ee(e,d.G.Page_Name,"finalize"),ee(e,d.G.Document_Type,"resumes"),ee(e,d.G.Cta_Name,"close resume preview"),e),BLDR.UserClaims.user_uid,b.ab());o.setState({showPopup:!1,popupName:""}),o.props.commonActions.RemoveSettingName(d.ob.showSideNav)})),ee(X(o),"setMobileTemplate",(function(e){o.setState({showLoader:!0});var t=o.state.skins.findIndex((function(t){return t.skinCD==e})),n=o.state.skins[t].html,r=JSON.parse(JSON.stringify(o.props.document)),a=o.getColorForColorSelector(),i=o.getSelectedFormattingOption();BLDR.loadTemplateFromSkinWithPromise(e).then((function(){var t=b.wb(r,e);t=b.kb(t,d.wb.SDCL,a,BLDR.getTemplateFromSkin);var s=a?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;t=b.kb(t,d.wb.FTCL,s,BLDR.getTemplateFromSkin),t=o.updateDocumentWithFormatOptions(t,e,i),n&&""!=n?(o.props.documentActions.UpdateDocument(o.user.UserUID,t),o.setState({selectedSkin:e},(function(){setTimeout((function(){o.setResumePreviewDimension()}),1)}))):o.updateDocumentAndGetLatestHtml(t)}))})),ee(X(o),"setMultipleDesktopTemplates",(function(e,t,n,r,a,i){var s=o.state.skins.findIndex((function(t){return t.skinCD==e}));!n||null==r&&null==r?!a||null==i&&null==i?o.setDesktopTemplate(e,t):o.setDesktopTemplateWithFormattingOption(e,i):o.setDesktopTemplateWithSkinColor(e,r);for(var l=s>=2?s-2:0,c=s>=2?s+2>BLDR.Skins.length-1?BLDR.Skins.length-1:s+2:4,u=l;u<=c;u++)s!=u&&(!n||null==r&&null==r?!a||null==i&&null==i?o.setDesktopTemplate(BLDR.Skins[u].skinCD):o.setDesktopTemplateWithFormattingOption(BLDR.Skins[u].skinCD,i):o.setDesktopTemplateWithSkinColor(BLDR.Skins[u].skinCD,r));setTimeout((function(){var e=z(BLDR.Skins);e.splice(l,c-l+1);var t,s=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=V(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw a}}}}(e);try{for(s.s();!(t=s.n()).done;){var u=t.value;!n||null==r&&null==r?!a||null==i&&null==i?o.setDesktopTemplate(u.skinCD):o.setDesktopTemplateWithFormattingOption(u.skinCD,i):o.setDesktopTemplateWithSkinColor(u.skinCD,r)}}catch(e){s.e(e)}finally{s.f()}}),3e3),window.addEventListener("resize",o.rescaleVisibleSkins)})),ee(X(o),"setDesktopTemplate",(function(e){var t=o.state.skins.findIndex((function(t){return t.skinCD==e})),n=o.state.skins[t].html,r=JSON.parse(JSON.stringify(o.props.document)),a=o.getColorForColorSelector(),i=o.getSelectedFormattingOption();BLDR.loadTemplateFromSkinWithPromise(e).then((function(){var s=b.wb(r,e);s=o.updateDocumentWithFormatOptions(s,e,i),s=b.kb(s,d.wb.SDCL,a,BLDR.getTemplateFromSkin);var l=a?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;if(s=b.kb(s,d.wb.FTCL,l,BLDR.getTemplateFromSkin),n&&""!=n){o.props.documentActions.UpdateDocument(o.user.UserUID,s);var c="",u="";o.state.skins&&o.state.skins.length>0&&(t-1>-1&&(c=o.state.skins[t-1].skinCD),t+1<o.state.skins.length&&(u=o.state.skins[t+1].skinCD)),o.setState({selectedSkin:e},(function(){setTimeout((function(){if(o.setResumeDimensionInCarousel(e,t),!M.CommonHelper.isNullOrWhitespace(c)){var n=t;0,o.setResumeDimensionInCarousel(c,n-1)}if(!M.CommonHelper.isNullOrWhitespace(u)){var r=t;0,o.setResumeDimensionInCarousel(u,r+1)}}),1)}))}else o.getLatestHtmlFromDocument(s)}))})),ee(X(o),"setDesktopTemplateWithSkinColor",(function(e,t){var n=JSON.parse(JSON.stringify(o.props.document)),r=o.getSelectedFormattingOption();if(n=b.wb(n,e),r!==d.ub.default){var a=o.getFormatOptionDocStyles(n,e,r);n=M.DocumentHelper.updateDocumentWithDocStyles(n,a)}n=b.kb(n,d.wb.SDCL,t,BLDR.getTemplateFromSkin);var i=t?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;n=b.kb(n,d.wb.FTCL,i,BLDR.getTemplateFromSkin),e===o.state.selectedSkin&&o.props.documentActions.UpdateDocument(o.user.UserUID,n),o.getLatestHtmlFromDocument(n)})),ee(X(o),"setDesktopTemplateWithFormattingOption",(function(e,t){var n=JSON.parse(JSON.stringify(o.props.document));n=o.updateDocumentWithFormatOptions(n,e,t),e===o.state.selectedSkin&&o.props.documentActions.UpdateDocument(o.user.UserUID,n),o.getLatestHtmlFromDocument(n)})),ee(X(o),"rescaleVisibleSkins",(function(){var e=o.state.selectedSkin,t=o.state.skins.findIndex((function(t){return t.skinCD==e}));o.setResumeDimensionInCarousel(e,t);for(var n=t>=2?t-2:0,r=t>=2?t+2>BLDR.Skins.length-1?BLDR.Skins.length-1:t+2:4,a=n;a<=r;a++)t!=a&&o.setResumeDimensionInCarousel(BLDR.Skins[a].skinCD,a)})),ee(X(o),"getTemplateColorForTracking",(function(e){var t="",o=d.q.findIndex((function(t){return t.value===e}));return o>=0&&(t=d.q[o].key),t})),ee(X(o),"bindViewPortWatcher",(function(){var e=window.document.querySelectorAll(".skin-wrapper");e&&e.forEach((function(e){oe(e,(function(e){if(e&&e.dataset&&e.dataset.index&&e.dataset.skinid&&e.dataset.skinname){var t={builderType:"resumes",screenName:"finalize",displayPosition:e.dataset.index,templateName:e.dataset.skinname,templateId:e.dataset.skinid,templateColor:o.getTemplateColorForTracking(o.state.selectedColor),templateCategory:"all"};Object(G.d)(t)}}))}))})),ee(X(o),"setResumeDimensionInCarousel",(function(e,t){var n=window.document.querySelector(".skincd-"+e),r=null==n?void 0:n.querySelector(o.docSelectorQueryString),a=null==n?void 0:n.querySelector(".skin-container");setTimeout((function(){var e=r||document.querySelector(o.docSelectorQueryString),n=a||document.querySelector(".skin-container");if(e&&n){var i=I()(o.state.skins,ee({},t,{$merge:{showLoader:!1}}));o.setState({skins:i},(function(){var t=n.offsetWidth/e.offsetWidth;e.style.transform="scale(".concat(t,")"),e.style.transformOrigin="0 0"}))}}),50)})),ee(X(o),"saveLatestJobTitlePreference",(function(e){var t="";if(e&&e.sections){var n=M.CommonHelper.getSectionByCD(e.sections,M.TypeCodes.sectionTypeCd.Experience);null!=n&&null!=n.paragraphs&&n.paragraphs.length>0&&n.paragraphs[0].docDatas&&n.paragraphs[0].docDatas.length>0&&(t=M.CommonHelper.getCharValue(n.paragraphs[0].docDatas,M.TypeCodes.fieldCd.JobTitle))}o.props.userActions.SaveUserPreference(o.user.UserUID,d.h.PreferenceJobtitle,t,BLDR.PortalSettings.ConfigurePortalCd)})),ee(X(o),"saveJobLocationUserPreference",(function(e){var t=M.CommonHelper.getSectionByCD(e.sections,M.TypeCodes.sectionTypeCd.Contact);if(t){var n=b.y(t);M.CommonHelper.isNullOrWhitespace(n)||o.props.userActions.SaveUserPreference(o.props.document.userId,d.h.PreferenceJobLocation,n,BLDR.PortalSettings.ConfigurePortalCd)}})),ee(X(o),"triggerColorSelectorEvent",(function(e){var t,o=d.r.find((function(t){return t.value.toLowerCase()==e.toLowerCase()}));o&&o.key&&BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.H.COLOR_PICKER,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,"finalize"),ee(t,d.G.Cta_Name,"reset"===o.key.toLowerCase()?"default":o.key.toLowerCase()),t),BLDR.UserClaims.user_uid,b.ab())})),ee(X(o),"onSkinColorClick",(function(e){if(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.getAttribute("data-color");if(null!=t&&o.triggerColorSelectorEvent(t),o.getColorForColorSelector()!=t){for(var n=JSON.parse(JSON.stringify(o.props.document)),r=JSON.parse(JSON.stringify(o.state.skins)),a=0;a<r.length;a++)M.CommonHelper.isNullOrWhitespace(r[a].html)||(r=I()(r,ee({},a,{$merge:{html:""}})));o.setState({showLoader:!0,skins:r,selectedColor:t}),n=b.kb(n,d.wb.SDCL,t,BLDR.getTemplateFromSkin);var i=t?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;n=b.kb(n,d.wb.FTCL,i,BLDR.getTemplateFromSkin),o.updateDocumentAndGetLatestHtml(n),b.Bb(o.state.selectedSkin,t,o.props.document.id)}}})),ee(X(o),"onMultipleSkinsColorClick",(function(e){if(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.getAttribute("data-color");if(null!=t&&o.triggerColorSelectorEvent(t),o.getColorForColorSelector()!=t){for(var n=JSON.parse(JSON.stringify(o.state.skins)),r=0;r<n.length;r++)M.CommonHelper.isNullOrWhitespace(n[r].html)||(n=I()(n,ee({},r,{$merge:{html:"",showLoader:!0}})));o.setState({skins:n,showPreviewLoader:!0,selectedColor:t}),o.setMultipleDesktopTemplates(o.state.selectedSkin,!1,!0,t),b.Bb(o.state.selectedSkin,t,o.props.document.id)}}})),ee(X(o),"onEditMyResumeToolTipClose",(function(){o.setState({showEditMyResumeToolTip:!1})})),ee(X(o),"onFormattingOptionClick",(function(e,t){var n;(e&&(e.stopPropagation(),e.preventDefault()),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&t)&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(n={},d.G.Activity,"clicked"),ee(n,d.G.Page_Name,"finalize"),ee(n,d.G.Document_Type,"resumes"),ee(n,d.G.Cta_Name,t.toLowerCase()+" formatting"),n),BLDR.UserClaims.user_uid,b.ab());if(t!==o.getSelectedFormattingOption()){o.setState({showLoader:!0});var r=o.updateDocumentWithFormatOptions(o.props.document,o.state.selectedSkin,t);o.updateDocumentAndGetLatestHtml(r)}})),ee(X(o),"onMultipleSkinsFormattingOptionClick",(function(e,t){var n;(e&&(e.stopPropagation(),e.preventDefault()),BLDR.UserClaims&&BLDR.UserClaims.user_uid&&t)&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(n={},d.G.Activity,"clicked"),ee(n,d.G.Page_Name,"finalize"),ee(n,d.G.Document_Type,"resumes"),ee(n,d.G.Cta_Name,t.toLowerCase()+" formatting"),n),BLDR.UserClaims.user_uid,b.ab());if(t!==o.getSelectedFormattingOption()){for(var r=JSON.parse(JSON.stringify(o.state.skins)),a=0;a<r.length;a++)M.CommonHelper.isNullOrWhitespace(r[a].html)||(r=I()(r,ee({},a,{$merge:{html:"",showLoader:!0}})));o.setState({skins:r,showPreviewLoader:!0}),o.setMultipleDesktopTemplates(o.state.selectedSkin,!1,!1,null,!0,t)}})),ee(X(o),"updateDocumentWithFormatOptions",(function(e,t,n){var r=JSON.parse(JSON.stringify(e));if(null==n&&(n=d.ub.default),d.tb.find((function(e){return e.SkinCd==t}))){if(n===d.ub.default||o.state.selectedSkin!=t){var a=o.getColorForColorSelector();if(r=b.wb(r,t),!M.CommonHelper.isNullOrWhitespace(a)){r=b.kb(r,d.wb.SDCL,a,BLDR.getTemplateFromSkin);var i=a?BLDR.clrForDarkSkins:BLDR.clrForBrightSkins;r=b.kb(r,d.wb.FTCL,i,BLDR.getTemplateFromSkin)}}if(n!==d.ub.default){var s=o.getFormatOptionDocStyles(r,t,n);r=M.DocumentHelper.updateDocumentWithDocStyles(r,s)}}return r})),ee(X(o),"getFormatOptionDocStyles",(function(e,t,o){var n=JSON.parse(JSON.stringify(e)).docStyles,r=d.tb.find((function(e){return e.SkinCd==t}))[o],a=function(e){n.find((function(t){return t.styleTypeCD==e})).value=r[e]};for(var i in r)a(i);return n})),ee(X(o),"updateDocumentAndGetLatestHtml",(function(e){var t=e.skinCD,n="",r=o.state.skins.findIndex((function(e){return e.skinCD==t})),a=o.state.skins[r].name,i=o.state.skins[r].description,s=o.state.skins[r].imageURL;!1===BLDR.featureSets.photoUpload&&(e=o.DeletephotoSection(e)),o.props.documentActions.UpdateDocument(o.user.UserUID,e).then((function(e){if(e&&e.id){var l={userId:o.user.UserUID,documentId:e.id,portalId:BLDR.Portal.portalId,fileType:"oRIG"};o.props.documentActions.getHtml(l).then((function(e){if(e){var l=(new DOMParser).parseFromString(e,"text/html");l&&l.querySelector(o.docSelectorQueryString)&&l.querySelector(o.docSelectorQueryString).className&&l.querySelector(o.docSelectorQueryString).className.indexOf(t.toLowerCase())>-1&&(n=e);var c=I()(o.state.skins,ee({},r,{$set:{skinCD:t,html:n,name:a,description:i,imageURL:s}}));o.setState({skins:c},(function(){setTimeout((function(){if(o.setResumePreviewDimension(),o.state.showNav){var e=window.document.querySelector(".svg-skin"),t=window.document.querySelector(".svg-skin #document, .svg-skin .document")?window.document.querySelector(".svg-skin #document, .svg-skin .document"):null;o.setResumePreviewDimension(e,t,!0)}}),1)}))}}))}}))})),ee(X(o),"getLatestHtmlFromDocument",(function(e){var t="",n=e.skinCD,r=o.state.skins.findIndex((function(e){return e.skinCD==n})),a=o.state.skins[r].name,i=o.state.skins[r].description,s=o.state.skins[r].imageURL;!1===BLDR.featureSets.photoUpload&&(e=o.DeletephotoSection(e)),n===o.state.selectedSkin&&o.props.documentActions.UpdateDocument(o.user.UserUID,e),o.props.documentActions.getDocumentHtml(e,!1).then((function(e){if(e){var l=(new DOMParser).parseFromString(e,"text/html"),c=l&&l.querySelector(o.docSelectorQueryString);t=c&&c.className&&c.className.indexOf(n.toLowerCase())>-1?e:"";var u=I()(o.state.skins,ee({},r,{$merge:{skinCD:n,html:t,name:a,description:i,imageURL:s}}));o.setState({skins:u},(function(){setTimeout((function(){if(o.setResumeDimensionInCarousel(n,r),o.state.showNav&&n===o.state.selectedSkin){var e=window.document.querySelector(".svg-skin"),t=window.document.querySelector(".svg-skin #document, .svg-skin .document")?window.document.querySelector(".svg-skin #document, .svg-skin .document"):null;o.setResumePreviewDimension(e,t,!0)}}),1)}))}}))})),ee(X(o),"getColorForColorSelector",(function(){var e=b.u(o.props.document.docStyles,d.wb.SDCL);M.CommonHelper.isNullOrWhitespace(e)||(d.q.some((function(t){return t.value.toLowerCase()==e.toLowerCase()}))||(e=""));return e})),ee(X(o),"getSelectedFormattingOption",(function(){var e=o.props.document.skinCD,t=d.ub.default,n=JSON.parse(JSON.stringify(o.props.document.docStyles)),r=d.tb.find((function(t){return t.SkinCd==e}));return r&&r[d.ub.small]&&b.f(r[d.ub.small],n,!0)?t=d.ub.small:r&&r[d.ub.large]&&b.f(r[d.ub.large],n,!0)&&(t=d.ub.large),t})),ee(X(o),"onSelectClick",(function(e){e&&e.value&&o.setState({formatSelection:q(q({},o.state.formatSelection),{},{value:e.value})})})),ee(X(o),"txtOnChange",(function(e){if(e&&e.target){var t=e.target.value;switch(e.target&&e.target.name?e.target.name:e.name){case"emailSubject":o.setState({emailSubject:q(q({},o.state.emailSubject),{},{value:t})});break;case"emailBody":o.setState({emailBody:t});break;case"emailTo":o.setState({emailTo:q(q({},o.state.emailTo),{},{value:t})});break;case"emailFrom":o.setState({emailFrom:q(q({},o.state.emailFrom),{},{value:t})})}}})),ee(X(o),"txtOnBlur",(function(e){if(e&&e.target){var t=e.target.value;switch(e.target&&e.target.name?e.target.name:e.name){case"emailTo":o.validateEmailTo(t);break;case"emailFrom":o.validateEmailFrom(t)}}})),ee(X(o),"validateEmailFrom",(function(e){var t=b.Rb(e,BLDR.Localization.emailToFromErrorMessage,BLDR.Localization.emailCorrectFormatErrorMessage);return o.setState({emailFrom:q(q({},o.state.emailFrom),{},{value:e,isValid:t.isValid,showError:!t.isValid,errorMessage:t.errorMessage})}),t.isValid})),ee(X(o),"validateEmailTo",(function(e){var t=!0,n="";M.CommonHelper.isNullOrWhitespace(e)?(t=!1,n=BLDR.Localization.emailToFromErrorMessage):(e.split(",").map((function(e){b.Rb(e.trim()).isValid||(t=!1)})),t||(n=BLDR.Localization.emailCorrectFormatErrorMessage));return o.setState({emailTo:q(q({},o.state.emailTo),{},{value:e,isValid:t,showError:!t,errorMessage:n})}),t})),ee(X(o),"openDownloadFormatPopup",(function(e){if(e&&e.stopPropagation(),BLDR.UserClaims&&BLDR.UserClaims.user_uid){var t,n,r=BLDR.IsMobileDevice()?"resume or email/print  download modal":"finalize";BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,r),ee(t,d.G.Document_Type,"resumes"),ee(t,d.G.Cta_Name,"resume download"),t),BLDR.UserClaims.user_uid,b.ab()),BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(n={},d.G.Activity,"viewed"),ee(n,d.G.Page_Name,"download resume finalize modal"),ee(n,d.G.Document_Type,"resumes"),n),BLDR.UserClaims.user_uid,b.ab())}o.setState({showPopup:!0,popupName:d.Y.downloadFormat,formatSelection:q(q({},o.state.formatSelection),{},{value:d.kb.pdf})})})),ee(X(o),"closeDownloadFormatPopup",(function(e){var t;(e&&e.stopPropagation(),e&&e.target&&e.target.innerText&&"download"===e.target.innerText.toLowerCase())||BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,"download resume finalize modal"),ee(t,d.G.Document_Type,"resumes"),ee(t,d.G.Cta_Name,"closed download resume finalize modal"),t),BLDR.UserClaims.user_uid,b.ab());o.setState({showPopup:!1,popupName:"",formatSelection:q(q({},o.state.formatSelection),{},{value:d.kb.pdf})})})),ee(X(o),"onDownloadConfirmClick",(function(e){var t;(e&&e.stopPropagation(),BLDR.UserClaims&&BLDR.UserClaims.user_uid)&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,"download resume finalize modal"),ee(t,d.G.Document_Type,"resumes"),ee(t,d.G.Cta_Name,"resume download"),t),BLDR.UserClaims.user_uid,b.ab());o.closeDownloadFormatPopup(e);var n=o.state.formatSelection.value;if(n){var r,a="";if(a="docx"==n?"word format":n+" format",BLDR.UserClaims&&BLDR.UserClaims.user_uid)BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(r={},d.G.Activity,"clicked"),ee(r,d.G.Page_Name,"download resume finalize modal"),ee(r,d.G.Document_Type,"resumes"),ee(r,d.G.Cta_Name,"downloaded resume "+a),r),BLDR.UserClaims.user_uid,b.ab())}var i=o.user.Role.toLowerCase();M.CommonHelper.isNullOrWhitespace(n)||(n===d.kb.text?o.downloadResume(d.kb.text,!1,"guest"==i):"guest"==i?(b.Cb(o.props.document.id,d.Bb.download,n),o.props.history.push(x.c[d.O.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id))):o.state.isPremiumUser?o.downloadResume(n,!1):(b.Cb(o.props.document.id,d.Bb.download,n),setTimeout((function(){window.location.href=BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id}),10)))})),ee(X(o),"downloadResume",(function(e,t,n){var r=o.user.UserUID,a=o.props.document.id,i="".concat(M.CommonHelper.isNullOrWhitespace(o.props.document.name)?BLDR.Localization.resume_Label:o.props.document.name,".").concat(e.toUpperCase()),s=BLDR.Portal.portalId,l=BLDR.styleSheetName;if(BLDR.isMultiColumnSkin(o.state.selectedSkin)&&(l=BLDR.multiColumnStyleSheetName),e===d.kb.text)if(n){var c={userId:o.user.UserUID,documentId:a,portalId:BLDR.Portal.portalId,fileType:"oRIG",isText:!0};o.props.documentActions.getHtml(c).then((function(e){e&&b.mb(i,e)}))}else o.props.documentActions.DownloadDocument(r,a,s,"txt","eXPT","RBtoText",!0,!1).then((function(e){e&&(window.location.href=e)}));else if(t){var u=b.nb("",800,640,"location=No,scrollbars=Yes,toolbar=No,resizable=No,directories=No,status=No,menubar=No,hotkeys=No,center=Yes",!1);o.props.documentActions.DownloadDocument(r,a,s,"pdf","eXPT",l,!0,!0).then((function(e){e&&(u.location=e)}))}else o.props.documentActions.DownloadDocument(r,a,s,e,"eXPT",l,!0,!1).then((function(e){e&&(window.location.href=e)}))})),ee(X(o),"openResumeOptionsPopup",(function(){var e;BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(e={},d.G.Activity,"viewed"),ee(e,d.G.Page_Name,"resume or email/print  download modal"),ee(e,d.G.Document_Type,"resumes"),e),BLDR.UserClaims.user_uid,b.ab());o.setState({showPopup:!0,popupName:d.Y.mobileResumeOptions})})),ee(X(o),"closeResumeOptionsPopup",(function(e){var t;(e&&e.stopPropagation(),e&&e.target&&e.target.innerText&&"print"===e.target.innerText.toLowerCase())||BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,"resume or email/print  download modal"),ee(t,d.G.Document_Type,"resumes"),ee(t,d.G.Cta_Name,"closed resume or email download modal"),t),BLDR.UserClaims.user_uid,b.ab());o.setState({showPopup:!1,popupName:""})})),ee(X(o),"openEmailPopup",(function(e){if(e&&e.stopPropagation(),BLDR.UserClaims&&BLDR.UserClaims.user_uid){var t,n=BLDR.IsMobileDevice()?"resume or email/print  download modal":"finalize";BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,n),ee(t,d.G.Document_Type,"resumes"),ee(t,d.G.Cta_Name,"email resume"),t),BLDR.UserClaims.user_uid,b.ab())}"guest"==o.user.Role.toLowerCase()?(b.Cb(o.props.document.id,d.Bb.email),o.props.history.push(x.c[d.O.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id))):o.state.isPremiumUser?o.setState({showPopup:!0,popupName:d.Y.email,emailTo:d.D,emailFrom:q(q({},d.B),{},{value:b.M(),isValid:!0}),emailSubject:d.C,emailBody:""}):(b.Cb(o.props.document.id,d.Bb.email),setTimeout((function(){window.location.href=BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id}),10))})),ee(X(o),"closeEmailPopup",(function(){o.setState({showPopup:!1,popupName:"",emailTo:d.D,emailFrom:d.B,emailSubject:d.C,emailBody:""})})),ee(X(o),"onEmailConfirmClick",(function(e){e&&e.stopPropagation();var t=o.validateEmailFrom(o.state.emailFrom.value),n=o.validateEmailTo(o.state.emailTo.value);t&&n&&(o.closeEmailPopup(),o.openEmailSentPopup(),o.sendEmail())})),ee(X(o),"sendEmail",(function(){var e=BLDR.styleSheetName;BLDR.isMultiColumnSkin(o.state.selectedSkin)&&(e=BLDR.multiColumnStyleSheetName);var t="\n    <h1 style='color:#f96d1b;font-size:40px;font-weight:100;font-family: sans-serif;line-height:0px;'>\n    Resume<b style='font-weight:800;'>Genius</b></h1><p style='color:gray;'>The world's smartest resume builder</p>"+(M.CommonHelper.isNullOrWhitespace(o.state.emailBody)?"":o.state.emailBody),n=M.CommonHelper.isNullOrWhitespace(o.state.emailSubject.value)?BLDR.Localization.noSubjectText:o.state.emailSubject.value,r=M.CommonHelper.isNullOrWhitespace(o.state.emailFrom.value)?b.M(o.props.document):o.state.emailFrom.value,a=o.state.emailTo.value,i={documentId:o.props.document.id,userId:o.user.UserUID,portalId:BLDR.Portal.portalId,displayName:r,styleSheetName:e,frmEmail:r,fileFormatType:"PDF",toEmail:a,subject:n,mailBody:t,emailName:"EmailResume"};o.props.documentActions.EmailDocument(i)})),ee(X(o),"openEmailSentPopup",(function(){o.setState({showPopup:!0,popupName:d.Y.emailSent})})),ee(X(o),"closeEmailSentPopup",(function(){o.setState({showPopup:!1,popupName:""})})),ee(X(o),"onPrintClick",(function(e){if(e&&e.stopPropagation(),BLDR.UserClaims&&BLDR.UserClaims.user_uid){var t,n=BLDR.IsMobileDevice()?"resume or email/print  download modal":"finalize";BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(t={},d.G.Activity,"clicked"),ee(t,d.G.Page_Name,n),ee(t,d.G.Document_Type,"resumes"),ee(t,d.G.Cta_Name,"print resume"),t),BLDR.UserClaims.user_uid,b.ab())}o.closeResumeOptionsPopup(e),"guest"==o.user.Role.toLowerCase()?(b.Cb(o.props.document.id,d.Bb.print,d.kb.pdf),o.props.history.push(x.c[d.O.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id))):o.state.isPremiumUser?o.downloadResume(d.kb.pdf,!1):(b.Cb(o.props.document.id,d.Bb.print,d.kb.pdf),setTimeout((function(){window.location.href=BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id}),10))})),ee(X(o),"getPopupProps",(function(e){var t=q({},d.Z[e]);switch(e){case d.Y.resumePreview:t.closeModal=o.closeResumePreviewPopup;break;case d.Y.downloadFormat:t.onPrimaryClick=o.closeDownloadFormatPopup,t.onSecondaryClick=o.onDownloadConfirmClick,t.closeModal=o.closeDownloadFormatPopup;break;case d.Y.mobileResumeOptions:t.closeModal=o.closeResumeOptionsPopup;break;case d.Y.email:t.onPrimaryClick=o.closeEmailPopup,t.onSecondaryClick=o.onEmailConfirmClick,t.closeModal=o.closeEmailPopup;break;case d.Y.emailSent:t.closeModal=o.closeEmailSentPopup}return t})),o.refObj={},o.docSelectorQueryString="#document, .document",o.displayDesktopView=!BLDR.isIPAD()&&!BLDR.IsMobileDevice(),document.body.classList.add("finalize-page"),o.displayDesktopView&&document.body.classList.add("desktop-finalize-view"),window.BLDR.featureSets.resumePreviewAndTips&&document.body.classList.remove("fs-live-previewV2"),b.bb()&&document.body.classList.remove("exp-mobile-bundle"),o.user=b.N();var n=o.getSkinsObject().findIndex((function(t){return t.skinCD==e.document.skinCD}))>-1?e.document.skinCD:BLDR.defaultSkin,r=!1,s=M.CommonHelper.getStorageValue("common");if(null!=s&&s.length>0){var l=s.find((function(e){return e[d.ob.showSideNav]}));l&&(r=l[d.ob.showSideNav])}var c=b.E(),u=c.skinColor,m=c.docId;return o.state={showNav:r,skins:o.getSkinsObject(),selectedSkin:n,selectedColor:m==e.document.id?u:b.u(o.props.document.docStyles,d.wb.SDCL),popupName:"",showPopup:!1,isPremiumUser:!1,showLoader:!0,showPreviewLoader:!0,showEditMyResumeToolTip:!1,formatSelection:d.K,emailTo:d.D,emailFrom:d.B,emailSubject:d.C,emailBody:""},o}return t=i,(o=[{key:"componentDidMount",value:function(){var e,t=this;BLDR.UserClaims&&BLDR.UserClaims.user_uid&&BLDR.TrackEvents(d.H.DOCUMENT_EVENTS,(ee(e={},d.G.Activity,"viewed"),ee(e,d.G.Page_Name,"finalize"),ee(e,d.G.Document_Type,"resumes"),e),BLDR.UserClaims.user_uid,b.ab()),Object(G.e)(this.props.document);var o=this.state.selectedSkin,n=this.state.skins.findIndex((function(e){return e.skinCD==o})),r=b.ub(this.props.document);this.props.documentActions.UpdateDocument(this.user.UserUID,r,!0),this.displayDesktopView?this.setMultipleDesktopTemplates(o,!0):this.setMobileTemplate(o,!0),this.refObj.slider.slickGoTo(n,!0),this.props.userActions.IsPremiumUser(this.user.UserUID,BLDR.PortalSettings.ConfigureProductId).then((function(e){t.setState({isPremiumUser:e})})),this.props.saveUserStages(d.Cb.Finalize),this.saveLatestJobTitlePreference(this.props.document),this.saveJobLocationUserPreference(this.props.document),document.body.classList.remove("no-ads"),this.bindViewPortWatcher()}},{key:"componentDidUpdate",value:function(e,t){var o=this.state.selectedSkin;o!=t.selectedSkin&&(this.displayDesktopView?this.setDesktopTemplate(o):this.setMobileTemplate(o))}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("finalize-page"),document.body.classList.remove("desktop-finalize-view"),document.body.classList.remove("popup-body-no-scroll"),window.removeEventListener("resize",this.rescaleVisibleSkins)}},{key:"showEditMode",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.props.commonActions.SetCommonSetting(d.ob.showSideNav,!0);var o="1"===b.O(d.h.EditResumeViewed);this.setState({showNav:t,showPreviewLoader:!0,showEditMyResumeToolTip:!o},(function(){o||BLDR.IsMobileDevice()||e.props.userActions.SaveUserPreference(e.user.UserUID,d.h.EditResumeViewed,"1",BLDR.PortalSettings.ConfigurePortalCd),setTimeout((function(){var t=document.querySelector(".svg-skin"),o=document.querySelector(".svg-skin #document, .svg-skin .document")?document.querySelector(".svg-skin #document, .svg-skin .document"):null;e.setResumePreviewDimension(t,o,!0)}),1)}))}},{key:"showCarouselMode",value:function(){this.setState({showNav:!1,showEditMyResumeToolTip:!1}),this.props.commonActions.RemoveSettingName(d.ob.showSideNav),document.querySelector(".cancel-handler").scrollTop=0}},{key:"render",value:function(){this.state.showNav&&!document.body.classList.contains("popup-body-no-scroll")?document.body.classList.add("popup-body-no-scroll"):this.state.showNav||document.body.classList.remove("popup-body-no-scroll");var e=this.displayDesktopView?this.onMultipleSkinsColorClick:this.onSkinColorClick,t=this.displayDesktopView?this.onMultipleSkinsFormattingOptionClick:this.onFormattingOptionClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,H({},this.props,{state:this.state,assignRef:this.assignRef,toggleSidenav:this.toggleSidenav,onNextClick:this.onNextClick,beforeChange:this.beforeChange,openResumePreviewPopup:this.openResumePreviewPopup,closeResumePreviewPopup:this.closeResumePreviewPopup,onEditMyResumeToolTipClose:this.onEditMyResumeToolTipClose,displayDesktopView:this.displayDesktopView,skinColor:this.getColorForColorSelector(),onSkinColorClick:e,formattingOptionSelected:this.getSelectedFormattingOption(),onFormattingOptionClick:t,getPopupProps:this.getPopupProps,onSelectClick:this.onSelectClick,txtOnChange:this.txtOnChange,txtOnBlur:this.txtOnBlur,openDownloadFormatPopup:this.openDownloadFormatPopup,openEmailPopup:this.openEmailPopup,closeEmailSentPopup:this.closeEmailSentPopup,onPrintClick:this.onPrintClick,useUpdatedUI:!0})))}}])&&Y(t.prototype,o),n&&Y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component)},727:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return s}));var n=o(0),r=o.n(n),a=o(8),i=function(e){var t=e.className,o=e.onClick;return r.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:o},r.a.createElement(a.f,{colorClass:"icon"}))},s=function(e){var t=e.className,o=e.onClick;return r.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:o},r.a.createElement(a.d,{colorClass:"icon"}))}}}]);